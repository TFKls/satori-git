<h3>{{ widget.p.name }}</h3>
<form action="process.altertest" method="POST" enctype="multipart/form-data">
{% if widget.test %}
<h4>{{ widget.test.name }}</h4>
{{widget.test.description}}<br/>
{% else %}
New test name:
<input type="text" name="testname"/><br/>
Description
<input type="text" name="testdesc"/><br/>
{% endif %}
    Select default judge:
    <select name="judge" onChange="submit();">
        <option value="">None</option>
        {% for c in widget.judges %}
        <option value="{{c.value}}" {% if c.value == widget.judgehash %} selected="selected" {% endif %}>{{c.name}}</option>
        {% endfor %}
    </select>
    <br/>
    {% if widget.judge %}
    <h4>Default test data</h4>
        {% for field in widget.judge %}
            {{ field.description }}:
            {% if field.type == "value" %}
                <input type="text" name="value_{{field.name}}" value="{{field.cv}}"/>
            {% else %}
                <input type="file" name="file_{{field.name}}"/>                
                {% if field.cv %}
                    <a href="getfile.testdata.{{widget.test.id}}.{{field.name}}">(file uploaded)</a>
                    <input type="checkbox" name="file_{{field.name}}_clear"/> Clear
                {% endif %}
            {% endif %}
            <br/>
        {% endfor%}
    {% endif %}
    <input type="hidden" name="id" value="{{widget.p.id}}"/>
    <input type="hidden" name="back_to" value="{{widget.back_to}}"/>
    <input type="hidden" name="back_path" value="{{widget.back_path}}"/>
    <input type="submit" name="valchange" value="Change"/>
</form>

