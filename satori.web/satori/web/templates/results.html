{% extends "templates/index.html" %}

{% block content %}

{% load switch %}

<h2>Results</h2>

{% comment %}
{% if widget.isadmin %}
<form action="process.adjustresult" method="POST">
    <p>Filter submits:
<select name="user" style="margin-left: 2em">
{% for value,name,sel in widget.users %}
<option value="{{ value }}" {% if sel %} selected="selected" {% endif %}>{{ name }}</option>
{% endfor %}
</select>
<input type="submit" value="Change"/>
<input type="hidden" name="back_to" value="{{ widget.back_to }}"/>
<input type="hidden" name="back_path" value="{{ widget.back_path }}"/>
</p>
</form>
{% endif %}
{% endcomment %}

<table class="tlist">

<tr>
    <th>#</th>
{% if general_page_overview.contest_is_admin %}
    <th>User</th>
{% endif %}
    <th>Problem</th>
    <th>Time</th>
    <th>Status</th>
{% comment %}  
    <th></th> 
{% endcomment %}
</tr>

{% for s in results %}
<tr>
    <td><a href="{% url view_result general_page_overview.contest.id s.submit.id %}">{{s.submit.id}}</a></td>
{% if general_page_overview.contest_is_admin %}   
     <td>{{s.contestant}}</td>
{% endif %}
    <td>{{s.problem}}</td>
    <td>{{s.submit.time}}</td>

<td class={% switch s.status %}
                {% case "QUE" %} "staQUE"
                {% case "ACC" %} "staACC"
                {% case "OK" %} "staOK"
                {% case "TLE" %} "staTLE"
                {% case "ANS" %} "staANS"
                {% case "RTE" %} "staRTE"
                {% case "MEM" %} "staMEM"
                {% case "REJ" %} "staREJ"
                {% case "CMP" %} "staCMP"
                {% else %} ""
           {% endswitch %}> 

    {{s.status}}</td>
    
{% comment %}    <td><a href="{{s.link}}" class="showhidelink">Show/hide details</a></td> {% endcomment %}
</tr>

{% comment %}
{% if s.showdetails %}
<tr>
    <td colspan="6">{{s.details}}</td>
</tr>
{% endif %}
{% endcomment %}

{% endfor %}


</table>

{% comment %}

{% if widget.displaypages %}
<div class="scrollbar">
{% if widget.blink %}
<a href="{{ widget.blink }}">&laquo;</a>
{% endif %}

{% for link in widget.links %}
{% if forloop.counter == widget.page %}
{{ forloop.counter }}
{% else %}
<a href="{{ link }}">{{forloop.counter}}</a>
{% endif %}
{% endfor %}

{% if widget.flink %}
<a href="{{ widget.flink }}">&raquo;</a>
{% endif %}
</div>
{% endif %}
{% endcomment %}

{% endblock %}